<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>{{ task.title }}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet">

  <style>
      body {
          background-color: #f8f9fa;
      }
      .task-container {
          max-width: 700px;
          margin: 60px auto;
          background: white;
          padding: 40px;
          border-radius: 16px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      }
  </style>
</head>
<body>

<div class="task-container">

    <a href="{% url 'task-list' %}" class="btn btn-outline-secondary mb-3">← Ко всем задачам</a>

    <h2 class="mb-4">{{ task.title }}</h2>

    <ul class="list-group mb-4">

        <li class="list-group-item">
            <strong>Статус:</strong> {{ task.get_status_display }}
        </li>

        {% if task.category %}
        <li class="list-group-item">
            <strong>Категория:</strong> {{ task.category.name }}
        </li>
        {% endif %}

        {% if task.user %}
        <li class="list-group-item">
            <strong>Исполнитель:</strong> {{ task.user.username }}
        </li>
        {% endif %}

        {% if task.deadline %}
        <li class="list-group-item">
            <strong>Дедлайн:</strong> {{ task.deadline|date:"d.m.Y H:i" }}
        </li>
        {% endif %}
    </ul>

    {% if task.description %}
        <h4 class="mb-3">Описание</h4>
        <p class="text-muted">{{ task.description|linebreaksbr }}</p>
    {% endif %}

    <div class="d-flex gap-2 mt-4">
        <a href="{% url 'task-update' task.id %}" class="btn btn-primary">Редактировать</a>

        <form method="post" action="{% url 'task-delete' task.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger"
                    onclick="return confirm('Удалить задачу?');">
                Удалить
            </button>
        </form>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>